### 依赖注入

ASP.NET Core 框架建立在一些核心的基础框架之上，这些基础框架包括依赖注入、文件系统、配置选项和诊断日志等

类库（Library）和框架（Framework）的不同之处在于：前者往往只是提供实现某种单一功能的 API；而后者则针对一个目标任务对这些单一功能进行编排，以形成一个完整的流程，并利用一个引擎来驱动这个流程自动执行。

如果将 MvcLib 从类库改造成一个框架，可以将其称为 MvcFrame。如图 3-2 所示，MvcFrame的核心是一个被称为MvcEngine的执行引擎，它驱动一个编排好的工作流对HTTP请求进行一致性处理。如果要利用MvcFrame构建一个具体的MVC应用，除了根据业务需求定义相应的 Controller对象和 View对象，我们只需要初始化这个引擎并直接启动它即可。如果读者曾经开发过ASP.NET MVC应用，会发现ASP.NET MVC就是这样一个框架。

总的来说，IoC是设计框架所采用的一种基本思想，所谓的控制反转就是将应用对流程的控制转移到框架之中。以上面的示例来说，在传统面向类库编程的时代，针对 HTTP 请求处理的流程被牢牢地控制在应用程序之中。引入框架之后，请求处理的控制权转移到了框架之中。？？

IoC 主要体现了这样一种设计思想：通过将一组通用流程的控制权从应用转移到框架之中以实现对流程的复用，并按照好莱坞法则实现应用程序的代码与框架之间的交互。我们可以采用若干设计模式以不同的方式实现 IoC，如模板方法、工厂方法和抽象工厂，下面介绍一种更有价值的IoC模式：依赖注入（Dependency Injection，DI）。